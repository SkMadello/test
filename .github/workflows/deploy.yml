- name: Deploy to Server using SSH
  uses: appleboy/ssh-action@v1.0.3
  with:
    host: ${{ secrets.SERVER_HOST }}
    username: ${{ secrets.SERVER_USER }}
    key: ${{ secrets.SSH_PRIVATE_KEY }}
    port: ${{ secrets.SERVER_PORT }}
    script: |
      docker pull ${{ secrets.DOCKERHUB_USERNAME }}/myapp:latest
      docker stop myapp || true
      docker rm myapp || true
      docker run -d -p 8501:8501 --name myapp ${{ secrets.DOCKERHUB_USERNAME }}/myapp:latest
